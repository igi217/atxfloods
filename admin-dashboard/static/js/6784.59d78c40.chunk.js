"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6784],{43518:function(e,t,n){n(72791);var a=n(80184);t.Z=function(e){return(0,a.jsxs)(a.Fragment,{children:[e.onView?(0,a.jsx)("i",{className:"fa-solid fa-eye pointer me-2 text-info",onClick:e.onView}):"",(0,a.jsx)("i",{className:"fa-solid fa-trash pointer text-danger",onClick:e.onDelete}),(0,a.jsx)("i",{className:"fa-solid fa-pen-to-square pointer ms-2 text-warning",onClick:e.onEdit})]})}},66784:function(e,t,n){n.r(t);var a=n(1413),r=n(74165),s=n(15861),o=n(70885),c=n(72791),i=n(43513),u=n(83442),l=n(43518),d=n(78983),m=n(9085),f=n(16871),p=n(43504),h=n(80184);t.default=function(){var e=(0,f.s0)(),t=c.useState([]),n=(0,o.Z)(t,2),x=n[0],g=n[1],_=c.useState({per_page:10,page_number:1}),Z=(0,o.Z)(_,2),j=Z[0],b=Z[1],w=c.useState(!0),v=(0,o.Z)(w,2),k=v[0],C=v[1],N=c.useState(0),A=(0,o.Z)(N,2),S=A[0],y=A[1],E=[{name:"Id",selector:function(e){return e.id},sortable:!0},{name:"Name",selector:function(e){return e.name},sortable:!0},{name:"Address",selector:function(e){return e.address},sortable:!0},{name:"Last Modified",selector:function(e){return new Date(e.updated_at).toLocaleString()},sortable:!0},{name:"Action",selector:function(e){return(0,h.jsx)(l.Z,{onEdit:function(){return P(e)},onDelete:function(){return R(e.id)}})},sortable:!0}],P=function(t){e("/cameras/edit",{state:t})},R=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.Z.deleteCameras+t,e.next=3,fetch(n,{method:"GET",headers:{Authorization:(0,u.k)()}});case 3:return a=e.sent,e.next=6,a.json();case 6:200===e.sent.status&&(C(!k),m.Am.success("Record deleted successfully!"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.useEffect((function(){var e=u.Z.cameras;(0,s.Z)((0,r.Z)().mark((function t(){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e+"?per_page=".concat(j.per_page,"&page_number=").concat(j.page_number),{method:"GET",headers:{Authorization:(0,u.k)()}});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,g(a.attributes),y(a.totalResult);case 8:case"end":return t.stop()}}),t)})))()}),[j,k]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Ix,{position:"top-right",theme:"colored",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,h.jsx)(d.xH,{className:"my-2",children:(0,h.jsx)(d.sl,{children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-6",children:(0,h.jsx)("h5",{className:"text-uppercase",children:"All Cameras"})}),(0,h.jsx)("div",{className:"col-md-6",children:(0,h.jsx)(p.rU,{to:"/cameras/add",className:"btn text-uppercase btn-primary m-2 float-end",children:"Add"})})]})})}),(0,h.jsx)(i.ZP,{columns:E,data:x,pagination:!0,onSelectedRowsChange:function(){},paginationServer:!0,paginationTotalRows:S,onChangeRowsPerPage:function(e){return b((0,a.Z)((0,a.Z)({},j),{},{per_page:e}))},onChangePage:function(e,t){return b((0,a.Z)((0,a.Z)({},j),{},{page_number:e}))}})]})}}}]);
//# sourceMappingURL=6784.59d78c40.chunk.js.map