{"version":3,"file":"static/js/8742.a9e61fb3.chunk.js","mappings":"wRAyGA,UArGsB,WAAO,IAAD,MAEhBA,GAAOC,EAAAA,EAAAA,MAAPD,GAER,EAAwBE,EAAAA,SAAe,CAAC,GAAxC,eAAOC,EAAP,KAAaC,EAAb,KACA,EAAwBF,EAAAA,SAAe,CAAC,GAAxC,eAAOG,EAAP,KAAaC,EAAb,KAEAJ,EAAAA,WAAgB,YACZ,uBAAC,oGACOK,EAAMC,EAAAA,EAAAA,aAAyBR,EADtC,SAEwBS,MAAMF,EAAK,CAC5BG,OAAQ,OACRC,QAAS,CACL,eAAiBC,EAAAA,EAAAA,KACjB,eAAe,sBAN1B,cAEOC,EAFP,gBAUoBA,EAASC,OAV7B,OAUOX,EAVP,OAWGC,EAAQD,EAAKY,WAAW,IACxBT,EAAQH,EAAKY,WAAW,IAZ3B,0CAAD,EAcH,GAAE,CAACf,IAmBJ,OACI,iCACI,SAAC,KAAD,CAAOgB,UAAU,OAAjB,UACI,SAAC,KAAD,WACI,iBAAKA,UAAU,MAAf,WACI,iBAAKA,UAAU,WAAf,WACI,wCAAgBb,EAAKc,cACrB,uCAAed,EAAKe,eAExB,gBAAKF,UAAU,WAAf,UACI,gBAAIA,UAAU,YAAd,2BAAyC,IAAIG,KAAJ,OAAShB,QAAT,IAASA,GAAT,UAASA,EAAMiB,cAAf,iBAAS,EAAe,UAAxB,aAAS,EAAmBC,YAAYC,8BAMjG,SAAC,KAAD,CAAON,UAAU,OAAjB,UACI,SAAC,KAAD,WACI,kBAAMA,UAAU,MAAMO,SAnCjB,SAACC,GAClBA,EAAEC,iBAEF,IAAIC,EAAW,IAAIC,SAASH,EAAEI,QAC1BC,EAAQ,IAAIV,KAAKO,EAASI,IAAI,UAC9BC,EAAM,IAAIZ,KAAKO,EAASI,IAAI,QAE5BE,EAAc7B,EAAKiB,OACnBa,EAAS,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAaE,QAAO,SAACC,EAAMC,GACvC,IAAIC,EAAO,IAAIlB,KAAKgB,EAAKd,YACzB,OAAOgB,EAAOR,GAASQ,EAAON,CACjC,IACGO,GAAO,kBAAOnC,GAAP,IAAaiB,OAAQa,IAChC3B,EAAQgC,EAEX,EAoBe,WACI,iBAAKtB,UAAU,QAAf,WACI,SAAC,KAAD,8BACA,SAAC,KAAD,CAAYuB,KAAK,iBAAiBvB,UAAU,cAAcwB,KAAK,cAEnE,iBAAKxB,UAAU,QAAf,WACI,SAAC,KAAD,4BACA,SAAC,KAAD,CAAYuB,KAAK,iBAAiBvB,UAAU,cAAcwB,KAAK,YAEnE,iBAAKxB,UAAU,QAAf,WACI,SAAC,KAAD,CAAYyB,MAAO,CAACC,QAAS,GAA7B,qBACA,SAAC,KAAD,CAASH,KAAK,SAASvB,UAAU,kBAAkB2B,MAAM,UAAzD,+BAOhB,SAAC,KAAD,oBAGQtC,EAAKe,cAHb,aAGQ,EAAawB,KAAI,SAACC,EAAOT,GACrB,OACI,SAAC,KAAD,CAAMU,GAAI,EAAV,UACA,SAAC,KAAD,WACI,UAAC,KAAD,CAAW9B,UAAU,cAArB,WAEI,eAAGA,UAAU,YAAb,uBAAoC,IAAIG,KAAK0B,EAAMxB,YAAYC,qBAC/D,eAAGN,UAAU,gBAAgB+B,KAAI,UAAKvC,EAAAA,EAAAA,KAAL,mBAA8BqC,EAAMG,YAAcC,SAAS,GAAGrB,OAAO,SAASsB,IAAI,aAAnH,eAAiI,gBAAKlC,UAAU,YAAYmC,IAAG,UAAK3C,EAAAA,EAAAA,KAAL,mBAA8BqC,EAAMG,YAAcI,IAAKP,EAAMG,sBALlNZ,EAUzB,QAQpB,C","sources":["components/CameraDetails.js"],"sourcesContent":["import React from \"react\"\r\nimport { CRow, CCol, CCard, CCardBody, CButton, CFormInput, CFormLabel } from \"@coreui/react\";\r\nimport {  useParams } from \"react-router-dom\";\r\nimport Constants, { userToken } from \"src/Constants\";\r\nconst CameraDetails = () => {\r\n\r\n    const { id } = useParams();\r\n\r\n    const [data, setData] = React.useState({});\r\n    const [copy, setCopy] = React.useState({})\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            let url = Constants.singleCamera + id;\r\n            let response = await fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': userToken(),\r\n                    'Content-Type':'application/json'\r\n\r\n                },\r\n            })\r\n            let data = await response.json();\r\n            setData(data.attributes[0]);\r\n            setCopy(data.attributes[0]);\r\n        })();\r\n    }, [id])\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault();\r\n\r\n        let formData = new FormData(e.target)\r\n        let start = new Date(formData.get('start'))\r\n        let end = new Date(formData.get('end'))\r\n\r\n        let localImages = data.images\r\n        let newImages = localImages?.filter((item, index) => {\r\n            let date = new Date(item.created_at)\r\n            return date > start && date < end\r\n        });\r\n        let newData = {...data, images: newImages}\r\n        setCopy(newData)\r\n        \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CCard className=\"my-2\">\r\n                <CCardBody>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <h5>Camera Id: {data.unique_id}</h5>\r\n                            <h5>Location: {data.address}</h5>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <h5 className=\"float-end\">Last Updated: {new Date(data?.images?.[0]?.created_at).toLocaleString()}</h5>\r\n                        </div>\r\n                    </div>\r\n                </CCardBody>\r\n            </CCard>\r\n\r\n            <CCard className=\"my-2\">\r\n                <CCardBody>\r\n                    <form className=\"row\" onSubmit={handleSearch}>\r\n                        <div className=\"col-5\">\r\n                            <CFormLabel>Start DateTime</CFormLabel>\r\n                            <CFormInput type=\"datetime-local\" className=\"search-text\" name=\"start\" />\r\n                        </div>\r\n                        <div className=\"col-5\">\r\n                            <CFormLabel>End DateTime</CFormLabel>\r\n                            <CFormInput type=\"datetime-local\" className=\"search-text\" name=\"end\" />\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            <CFormLabel style={{opacity: 0}}>Search</CFormLabel>\r\n                            <CButton type=\"submit\" className=\"float-end w-100\" color=\"primary\">Search</CButton>\r\n                        </div>\r\n                    </form>\r\n                </CCardBody>\r\n\r\n            </CCard>\r\n\r\n            <CRow>\r\n\r\n                {\r\n                    copy.images?.map((image, index) => {\r\n                        return(\r\n                            <CCol xs={6} key={index}>\r\n                            <CCard>\r\n                                <CCardBody className=\"camera-feed\">\r\n                                    {/* <p className=\"float-start\">Temparature: 95<span>&#176;</span>F</p> */}\r\n                                    <p className=\"float-end\">Captured: {new Date(image.created_at).toLocaleString()}</p>\r\n                                    <a className=\"link-dark m-2\" href={`${Constants.base}uploads/${image.image_name}`} download=\"\" target=\"_blank\" rel=\"noreferrer\"> <img className=\"img-fluid\" src={`${Constants.base}uploads/${image.image_name}`} alt={image.image_name} /></a>\r\n                                </CCardBody>\r\n                            </CCard>\r\n                        </CCol>\r\n                        )\r\n                    })\r\n\r\n                }\r\n\r\n            </CRow>\r\n\r\n        </>\r\n    )\r\n}\r\nexport default CameraDetails"],"names":["id","useParams","React","data","setData","copy","setCopy","url","Constants","fetch","method","headers","userToken","response","json","attributes","className","unique_id","address","Date","images","created_at","toLocaleString","onSubmit","e","preventDefault","formData","FormData","target","start","get","end","localImages","newImages","filter","item","index","date","newData","type","name","style","opacity","color","map","image","xs","href","image_name","download","rel","src","alt"],"sourceRoot":""}