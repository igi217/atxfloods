{"version":3,"file":"static/js/6784.58399f0a.chunk.js","mappings":"mMAWA,IAVqB,SAACA,GAClB,OACI,iCACI,cAAGC,UAAU,yCAAyCC,QAASF,EAAMG,UACrE,cAAGF,UAAU,wCAAwCC,QAASF,EAAMI,YACpE,cAAGH,UAAU,sDAAsDC,QAASF,EAAMK,WAG7F,C,gLCwID,UAzIoB,WAEhB,IAAMC,GAAWC,EAAAA,EAAAA,MAEjB,EAAwBC,EAAAA,SAAe,IAAvC,eAAOC,EAAP,KAAaC,EAAb,KACA,EAAoCF,EAAAA,SAAe,CAC/CG,SAAU,GACVC,YAAa,IAFjB,eAAOC,EAAP,KAAmBC,EAAnB,KAIA,EAAwBN,EAAAA,UAAe,GAAvC,eAAOO,EAAP,KAAaC,EAAb,KACA,EAA0BR,EAAAA,SAAe,GAAzC,eAAOS,EAAP,KAAcC,EAAd,KAIMC,EAAU,CACZ,CACIC,KAAM,KACNC,SAAU,SAAAC,GAAG,OAAIA,EAAIC,EAAR,EACbC,UAAU,GAEd,CACIJ,KAAM,OACNC,SAAU,SAAAC,GAAG,OAAIA,EAAIF,IAAR,EACbI,UAAU,GAGd,CACIJ,KAAM,UACNC,SAAU,SAAAC,GAAG,OAAIA,EAAIG,OAAR,EACbD,UAAU,GAEd,CACIJ,KAAM,SACNC,SAAU,SAAAC,GAAG,OAAKA,EAAII,OAAOC,QAAW,gBAAK1B,UAAU,mBAAmB2B,IAAKN,EAAII,OAAO,GAAGG,WAAYC,IAAKC,EAAAA,EAAAA,KAAgB,WAAaT,EAAII,OAAO,GAAGG,aAAiB,WAA7J,EACbL,UAAU,GAEd,CACIJ,KAAM,gBACNC,SAAU,SAAAC,GAAG,OAAI,IAAIU,KAAKV,EAAIW,YAAYC,gBAA7B,EACbV,UAAU,GAEd,CACIJ,KAAM,SACNC,SAAU,SAACC,GAAD,OAAS,SAAC,IAAD,CAAcjB,OAAQ,kBAAM8B,EAAWb,EAAjB,EAAuBlB,SAAU,kBAAMgC,EAAad,EAAIC,GAAvB,GAAhE,EACVC,UAAU,IAQZW,EAAa,SAACb,GAEhBhB,EAAS,gBAAiB,CAAE+B,MAAOf,GACtC,EAEKc,EAAY,yCAAG,WAAOb,GAAP,qFACbe,EAAMP,EAAAA,EAAAA,cAA0BR,EADnB,SAEIgB,MAAMD,EAAK,CAC5BE,OAAQ,MACRC,QAAS,CACL,eAAiBC,EAAAA,EAAAA,QALR,cAEbC,EAFa,gBASAA,EAASC,OATT,OAUG,MAVH,OAURC,SACL7B,GAASD,GACT+B,EAAAA,GAAAA,QAAc,iCAZD,2CAAH,sDAuClB,OAvBAtC,EAAAA,WAAgB,WACZ,IAAI8B,EAAMP,EAAAA,EAAAA,SAGV,uBAAC,2GACwBQ,MAAMD,EAAG,oBAAgBzB,EAAWF,SAA3B,wBAAmDE,EAAWD,aAAe,CACvG4B,OAAQ,MACRC,QAAS,CACL,eAAiBC,EAAAA,EAAAA,QAJ5B,cACOC,EADP,gBAQoBA,EAASC,OAR7B,OAQOnC,EARP,OASGsC,QAAQC,IAAIvC,GACZC,EAAQD,EAAKwC,YAEb/B,EAAST,EAAKyC,aAZjB,0CAAD,EAgBH,GAAE,CAACrC,EAAYE,KAIZ,iCACI,SAAC,KAAD,CACIoC,SAAS,YACTC,MAAM,UACNC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,KAGhB,SAAC,KAAD,CAAO3D,UAAU,OAAjB,UACI,SAAC,KAAD,WACI,iBAAKA,UAAU,MAAf,WACI,gBAAKA,UAAU,WAAf,UACI,eAAIA,UAAU,iBAAd,4BAEJ,gBAAKA,UAAU,WAAf,UACA,SAAC,KAAD,CAAM4D,GAAG,eAAe5D,UAAU,+CAAlC,2BAKZ,SAAC,KAAD,CACIkB,QAASA,EACTV,KAAMA,EACNI,YAAU,EACViD,qBApHS,WAEpB,EAmHWC,kBAAgB,EAChBC,oBAAqB/C,EACrBgD,oBAAqB,SAACtD,GAAD,OAAcG,GAAc,kBAAKD,GAAN,IAAkBF,SAAAA,IAA7C,EACrBuD,aAAc,SAACtD,EAAaD,GAAd,OAA2BG,GAAc,kBAAKD,GAAN,IAAkBD,YAAAA,IAA1D,MAI7B,C","sources":["components/ActionButton.js","components/CameraTable.js"],"sourcesContent":["import React, { Component }  from 'react';\r\nconst ActionButton = (props) => {\r\n    return(\r\n        <>\r\n            <i className=\"fa-solid fa-eye pointer me-2 text-info\" onClick={props.onView}></i>\r\n            <i className=\"fa-solid fa-trash pointer text-danger\" onClick={props.onDelete}></i>\r\n            <i className=\"fa-solid fa-pen-to-square pointer ms-2 text-warning\" onClick={props.onEdit}></i>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActionButton;","import React from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport Constants, { userToken } from \"src/Constants\";\r\nimport ActionButton from \"./ActionButton\";\r\nimport { CCard, CCardBody} from \"@coreui/react\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst CameraTable = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [data, setData] = React.useState([]);\r\n    const [pagination, setPagination] = React.useState({\r\n        per_page: 10,\r\n        page_number: 1\r\n    })\r\n    const [load, setLoad] = React.useState(true)\r\n    const [total, setTotal] = React.useState(0);\r\n    const handleChange = () => {\r\n\r\n    }\r\n    const columns = [\r\n        {\r\n            name: 'Id',\r\n            selector: row => row.id,\r\n            sortable: true,\r\n        },\r\n        {\r\n            name: 'Name',\r\n            selector: row => row.name,\r\n            sortable: true,\r\n        },\r\n\r\n        {\r\n            name: 'Address',\r\n            selector: row => row.address,\r\n            sortable: true,\r\n        },\r\n        {\r\n            name: 'Images',\r\n            selector: row => (row.images.length) ?  <img className=\"pointer p-2 w-50\" alt={row.images[0].image_name} src={Constants.base +\"uploads/\" + row.images[0].image_name} /> : 'No Images',\r\n            sortable: true,\r\n        },\r\n        {\r\n            name: 'Last Modified',\r\n            selector: row => new Date(row.updated_at).toLocaleString(),\r\n            sortable: true,\r\n        },\r\n        {\r\n            name: 'Action',\r\n            selector: (row) => <ActionButton onEdit={() => handleEdit(row)} onDelete={() => handleDelete(row.id)} />,\r\n            sortable: true\r\n        }\r\n    ];\r\n\r\n    // const handleView = (row) => {\r\n    //     navigate('/cameras/view', { state: row });\r\n    // }\r\n\r\n    const handleEdit = (row) => {\r\n        // console.log(row);\r\n        navigate('/cameras/edit', { state: row });\r\n    }\r\n\r\n    const handleDelete = async (id) => {\r\n        let url = Constants.deleteCameras + id;\r\n        let response = await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': userToken(),\r\n\r\n            }\r\n        })\r\n        let json = await response.json();\r\n        if (json.status === 200) {\r\n            setLoad(!load);\r\n            toast.success(\"Record deleted successfully!\");\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        let url = Constants.cameras;\r\n\r\n\r\n        (async () => {\r\n            let response = await fetch(url + `?per_page=${pagination.per_page}&page_number=${pagination.page_number}`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': userToken(),\r\n\r\n                }\r\n            })\r\n            let data = await response.json();\r\n            console.log(data);\r\n            setData(data.attributes\r\n                );\r\n            setTotal(data.totalResult);\r\n\r\n\r\n        })()\r\n    }, [pagination, load] )\r\n\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-right\"\r\n                theme=\"colored\"\r\n                autoClose={5000}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover />\r\n\r\n                \r\n            <CCard className=\"my-2\">\r\n                <CCardBody>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <h5 className=\"text-uppercase\">All Cameras</h5>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                        <Link to=\"/cameras/add\" className=\"btn text-uppercase btn-primary m-2 float-end\">Add</Link>\r\n                        </div>\r\n                    </div>\r\n                </CCardBody>\r\n            </CCard>\r\n            <DataTable\r\n                columns={columns}\r\n                data={data}\r\n                pagination\r\n                onSelectedRowsChange={handleChange}\r\n                paginationServer\r\n                paginationTotalRows={total}\r\n                onChangeRowsPerPage={(per_page) => setPagination({ ...pagination, per_page })}\r\n                onChangePage={(page_number, per_page) => setPagination({ ...pagination, page_number })}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CameraTable;"],"names":["props","className","onClick","onView","onDelete","onEdit","navigate","useNavigate","React","data","setData","per_page","page_number","pagination","setPagination","load","setLoad","total","setTotal","columns","name","selector","row","id","sortable","address","images","length","alt","image_name","src","Constants","Date","updated_at","toLocaleString","handleEdit","handleDelete","state","url","fetch","method","headers","userToken","response","json","status","toast","console","log","attributes","totalResult","position","theme","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","to","onSelectedRowsChange","paginationServer","paginationTotalRows","onChangeRowsPerPage","onChangePage"],"sourceRoot":""}