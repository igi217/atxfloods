"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8742],{58742:function(e,a,s){s.r(a);var t=s(1413),n=s(74165),r=s(15861),c=s(70885),i=s(72791),l=s(78983),d=s(16871),o=s(83442),m=s(80184);a.default=function(){var e,a,s,u=(0,d.UO)().id,h=i.useState({}),x=(0,c.Z)(h,2),j=x[0],f=x[1],p=i.useState({}),v=(0,c.Z)(p,2),_=v[0],g=v[1];i.useEffect((function(){(0,r.Z)((0,n.Z)().mark((function e(){var a,s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.Z.singleCamera+u,e.next=3,fetch(a,{method:"POST",headers:{Authorization:(0,o.k)(),"Content-Type":"application/json"}});case 3:return s=e.sent,e.next=6,s.json();case 6:t=e.sent,f(t.attributes[0]),g(t.attributes[0]);case 9:case"end":return e.stop()}}),e)})))()}),[u]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.xH,{className:"my-2",children:(0,m.jsx)(l.sl,{children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsxs)("h5",{children:["Camera Id: ",j.unique_id]}),(0,m.jsxs)("h5",{children:["Location: ",j.address]})]}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("h5",{className:"float-end",children:["Last Updated: ",new Date(null===j||void 0===j||null===(e=j.images)||void 0===e||null===(a=e[0])||void 0===a?void 0:a.created_at).toLocaleString()]})})]})})}),(0,m.jsx)(l.xH,{className:"my-2",children:(0,m.jsx)(l.sl,{children:(0,m.jsxs)("form",{className:"row",onSubmit:function(e){e.preventDefault();var a=new FormData(e.target),s=new Date(a.get("start")),n=new Date(a.get("end")),r=j.images,c=null===r||void 0===r?void 0:r.filter((function(e,a){var t=new Date(e.created_at);return t>s&&t<n})),i=(0,t.Z)((0,t.Z)({},j),{},{images:c});g(i)},children:[(0,m.jsxs)("div",{className:"col-5",children:[(0,m.jsx)(l.L8,{children:"Start DateTime"}),(0,m.jsx)(l.jO,{type:"datetime-local",className:"search-text",name:"start"})]}),(0,m.jsxs)("div",{className:"col-5",children:[(0,m.jsx)(l.L8,{children:"End DateTime"}),(0,m.jsx)(l.jO,{type:"datetime-local",className:"search-text",name:"end"})]}),(0,m.jsxs)("div",{className:"col-2",children:[(0,m.jsx)(l.L8,{style:{opacity:0},children:"Search"}),(0,m.jsx)(l.u5,{type:"submit",className:"float-end w-100",color:"primary",children:"Search"})]})]})})}),(0,m.jsx)(l.rb,{children:null===(s=_.images)||void 0===s?void 0:s.map((function(e,a){return(0,m.jsx)(l.b7,{xs:6,children:(0,m.jsx)(l.xH,{children:(0,m.jsxs)(l.sl,{className:"camera-feed",children:[(0,m.jsxs)("p",{className:"float-end",children:["Captured: ",new Date(e.created_at).toLocaleString()]}),(0,m.jsxs)("a",{className:"link-dark m-2",href:"".concat(o.Z.base,"uploads/").concat(e.image_name),download:"",target:"_blank",rel:"noreferrer",children:[" ",(0,m.jsx)("img",{className:"img-fluid",src:"".concat(o.Z.base,"uploads/").concat(e.image_name),alt:e.image_name})]})]})})},a)}))})]})}}}]);
//# sourceMappingURL=8742.a9e61fb3.chunk.js.map