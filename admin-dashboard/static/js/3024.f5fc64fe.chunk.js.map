{"version":3,"file":"static/js/3024.f5fc64fe.chunk.js","mappings":"+SA2GA,UAvFc,WAEZ,MAAgCA,EAAAA,SAAe,IAA/C,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,EAAAA,SAAe,IAA/C,eAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0BJ,EAAAA,SAAe,MAAzC,eAAOK,EAAP,KAAcC,EAAd,KACMC,GAAaC,EAAAA,EAAAA,MAEnBR,EAAAA,WAAgB,WACKS,SAAXC,OACEC,SAAS,YACjBJ,EAAW,aAEd,GAAE,CAACA,IACJ,IAAMK,EAAW,yCAAG,WAAOC,GAAP,2FAClBA,EAAEC,iBACEC,EAAMC,EAAAA,EAAAA,MACNC,EAAO,CAAChB,SAAAA,EAAUE,SAAAA,GAHJ,SAIFe,MAAMH,EAAK,CACzBI,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KATL,cAIdM,EAJc,gBAaDA,EAAIC,OAbH,UAeC,OAFfC,EAbc,QAeVC,OAfU,wBAgBhBpB,EAASmB,EAAKE,SAhBE,4BAkBZC,EAAI,IAAIC,MACZC,QAAQF,EAAEG,UAAa,SACzBtB,SAASC,OAAT,iBAA4Be,EAAKO,OAAjC,oBAAmDJ,EAAEK,cAArD,aACA1B,EAAW,cArBO,4CAAH,sDA2BjB,OACE,gBAAK2B,UAAU,yDAAf,UACE,SAAC,KAAD,WACE,SAAC,KAAD,CAAMA,UAAU,yBAAhB,UACE,SAAC,KAAD,CAAMC,GAAI,EAAV,UACE,SAAC,KAAD,WACE,SAAC,KAAD,CAAOD,UAAU,MAAjB,UACE,UAAC,KAAD,WACI7B,GAAO,SAAC,KAAD,CAAQ+B,MAAM,SAAd,SAAwB/B,KAAgB,yBACjD,UAAC,KAAD,CAAOgC,SAAUzB,EAAjB,WACE,+CACA,cAAGsB,UAAU,uBAAb,qDACA,UAAC,KAAD,CAAaA,UAAU,OAAvB,WACE,SAAC,KAAD,WACE,SAAC,IAAD,CAAOI,KAAMC,EAAAA,OAEf,SAAC,KAAD,CAAYC,YAAY,WAAWC,aAAa,WAAWC,MAAOzC,EAAU0C,SAAU,SAAC9B,GAAD,OAAOX,EAAYW,EAAE+B,OAAOF,MAA5B,EAAoCG,UAAU,QAEtI,UAAC,KAAD,CAAaX,UAAU,OAAvB,WACE,SAAC,KAAD,WACE,SAAC,IAAD,CAAOI,KAAMQ,EAAAA,OAEf,SAAC,KAAD,CACEC,KAAK,WACLP,YAAY,WACZC,aAAa,mBACdC,MAAOvC,EAAUwC,SAAU,SAAC9B,GAAD,OAAOT,EAAYS,EAAE+B,OAAOF,MAA5B,EAAoCG,UAAU,QAE5E,SAAC,KAAD,WACE,SAAC,KAAD,CAAMG,GAAI,EAAV,UACE,SAAC,KAAD,CAASD,KAAK,SAASX,MAAM,UAAUF,UAAU,OAAjD,wCAevB,C,wDCzGM,IAAMK,EAAU,CAAC,UAAU,mjB","sources":["views/pages/login/Login.js","../node_modules/@coreui/icons/js/free/cil-user.js"],"sourcesContent":["import React from 'react'\nimport {useNavigate } from 'react-router-dom'\nimport Constants from 'src/Constants'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CFormInput,\n  CInputGroup,\n  CInputGroupText,\n  CRow,\n  CAlert\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { cilLockLocked, cilUser } from '@coreui/icons'\n\nconst Login = () => {\n\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [error, setError] = React.useState(null);\n  const navigation = useNavigate()\n\n  React.useEffect(() => {\n    const { cookie } = document;\n    if(cookie.includes('_token=')) {\n      navigation('/dashboard')\n    }\n  }, [navigation])\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    let url = Constants.login;\n    let body = {username, password}\n    let res = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': \"application/json\"\n      },\n      body: JSON.stringify(body)\n\n    });\n\n    let data = await res.json()\n    // console.log(data)\n    if(data.status !== 200){\n      setError(data.message); return;\n    }\n    const d = new Date();\n    d.setTime(d.getTime() + (365*24*60*60*1000));\n    document.cookie = `_token=${data._token};expires=${d.toUTCString()};path=\"/\"`;\n    navigation('/dashboard')\n\n\n\n\n  }\n  return (\n    <div className=\"bg-light min-vh-100 d-flex flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md={4}>\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  {(error)?<CAlert color=\"danger\">{error}</CAlert>:<></>}\n                  <CForm onSubmit={handleLogin}>\n                    <h2>Atx Floods, Login</h2>\n                    <p className=\"text-medium-emphasis\">Hi! Admin, Login to start your session</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupText>\n                        <CIcon icon={cilUser} />\n                      </CInputGroupText>\n                      <CFormInput placeholder=\"Username\" autoComplete=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} required={true}/>\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupText>\n                        <CIcon icon={cilLockLocked} />\n                      </CInputGroupText>\n                      <CFormInput\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        autoComplete=\"current-password\"\n                       value={password} onChange={(e) => setPassword(e.target.value)} required={true}/>\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs={6}>\n                        <CButton type='submit' color=\"primary\" className=\"px-4\">\n                          Login\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n","export const cilUser = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M411.6,343.656l-72.823-47.334,27.455-50.334A80.23,80.23,0,0,0,376,207.681V128a112,112,0,0,0-224,0v79.681a80.236,80.236,0,0,0,9.768,38.308l27.455,50.333L116.4,343.656A79.725,79.725,0,0,0,80,410.732V496H448V410.732A79.727,79.727,0,0,0,411.6,343.656ZM416,464H112V410.732a47.836,47.836,0,0,1,21.841-40.246l97.66-63.479-41.64-76.341A48.146,48.146,0,0,1,184,207.681V128a80,80,0,0,1,160,0v79.681a48.146,48.146,0,0,1-5.861,22.985L296.5,307.007l97.662,63.479h0A47.836,47.836,0,0,1,416,410.732Z' class='ci-primary'/>\"]"],"names":["React","username","setUsername","password","setPassword","error","setError","navigation","useNavigate","document","cookie","includes","handleLogin","e","preventDefault","url","Constants","body","fetch","method","headers","JSON","stringify","res","json","data","status","message","d","Date","setTime","getTime","_token","toUTCString","className","md","color","onSubmit","icon","cilUser","placeholder","autoComplete","value","onChange","target","required","cilLockLocked","type","xs"],"sourceRoot":""}